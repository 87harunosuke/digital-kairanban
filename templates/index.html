{% extends "layout.html" %}
{% block content %}

<h3 class="mb-4">ğŸ“„ æŠ•ç¨¿ä¸€è¦§</h3>

<div class="d-flex justify-content-center gap-3 mb-4">
    <a href="{{ url_for('index', category='ã‚¤ãƒ™ãƒ³ãƒˆ') }}" 
       class="btn category-btn {% if current_category=='ã‚¤ãƒ™ãƒ³ãƒˆ' %}active{% endif %}">
       ã‚¤ãƒ™ãƒ³ãƒˆ
    </a>
    <a href="{{ url_for('index', category='ç½å®³') }}" 
       class="btn category-btn {% if current_category=='ç½å®³' %}active{% endif %}">
       ç½å®³
    </a>
    <a href="{{ url_for('index', category='åºƒå ±') }}" 
       class="btn category-btn {% if current_category=='åºƒå ±' %}active{% endif %}">
       åºƒå ±
    </a>
</div>

{% for post in posts %}
<div class="glass-card">
    <h5>{{ post.title }}</h5>

    <div class="d-flex justify-content-between">
        <small>
            {% if post.created_at %}
               {{ post.created_at | to_jst }}

            {% endif %}
        </small>
        <small>â¤ï¸ {{ post.likes }}</small>
    </div>

    <p class="mt-3" style="white-space: pre-wrap;">{{ post.content }}</p>


    {% if post.filename %}
        <img src="{{ url_for('uploaded_file', filename=post.filename) }}"
             class="img-fluid rounded mt-2">
    {% endif %}

    <div class="mt-3">
        <a href="{{ url_for('like', post_id=post.id) }}"
           class="btn btn-sm neon-btn">ã„ã„ã­</a>

        {% if session.get('role') == 'admin' %}
            <a href="{{ url_for('edit', post_id=post.id) }}"
               class="btn btn-sm btn-warning">ç·¨é›†</a>

            <a href="{{ url_for('delete', post_id=post.id) }}"
               class="btn btn-sm btn-danger">å‰Šé™¤</a>
        {% endif %}
    </div>
</div>
{% else %}
<p>ã¾ã æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
{% endfor %}

{% endblock %}


